type A = struct {
  f1: Int,
  f2: Int,
};

type AB = struct {
  s1: A,
  f2: Int,
};

fun main = {
  var v1 = new AB;

  v1->s1.f1 = 8;
  v1->s1.f2 = 321;
  v1->f2    = 123;

  assert(v1->s1.f1 == 8  );
  assert(v1->s1.f2 == 321);
  assert(v1->f2    == 123);

  assert(*((&v1->s1.f1 + 0) ~> _ ) == 8);
  assert(*((&v1->s1.f1 + 1) ~> _ ) == 321);
  assert(*((&v1->s1.f1 + 2) ~> _ ) == 123);

};
